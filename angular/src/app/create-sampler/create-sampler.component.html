<div class="example-flex-container">
  <h2>Créer un nouveau preset</h2>

  <label class="field-label" for="preset-name">Nom du preset</label>
  <input
    id="preset-name"
    type="text"
    [(ngModel)]="name"
    placeholder="Mon preset"
  />

  <label class="field-label" for="preset-urls">URLs des sons (une par ligne, optionnel)</label>
  <textarea
    id="preset-urls"
    rows="4"
    [(ngModel)]="urlText"
    placeholder="Ex: ./MonPreset/kick.wav"
  ></textarea>

  <div
    class="drop-zone"
    [class.over]="isDragOver"
    (drop)="onDrop($event)"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
  >
    <p>Glissez-déposez des fichiers audio ici</p>
    <p class="muted">ou</p>
    <button
      type="button"
      class="action secondary"
      (click)="fileInput.click()"
    >
      Parcourir le PC…
    </button>
    <input
      #fileInput
      type="file"
      multiple
      accept="audio/*"
      (change)="onFileSelected($event)"
      hidden
    />
  </div>

  <ul *ngIf="files.length" class="file-list">
    <li *ngFor="let file of files; let i = index">
      <span>{{ file.name }}</span>
      <button type="button" class="chip-remove" (click)="removeFile(i)">
        ✕
      </button>
    </li>
  </ul>

  <div class="example-button-row">
    <button class="action" (click)="createPreset()" [disabled]="loading">
      Créer le preset
    </button>
    <button class="action secondary" routerLink="/" [disabled]="loading">
      Retour à la liste
    </button>
  </div>

  <div *ngIf="loading" class="muted">Création du preset en cours…</div>
</div>
